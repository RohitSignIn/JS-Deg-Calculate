<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Js Deg Calculate</title>
  </head>
  <body>
    <div
      id="mouse-partner"
      style="
        width: 10px;
        height: 10px;
        border-radius: 50%;
        position: absolute;
        background-color: blue;
      "
    ></div>
    <div
      style="
        display: flex;
        position: relative;
        height: 100vh;
        width: 100%;
        align-items: center;
        justify-content: center;
      "
    >
      <div
        id="deg-viewer"
        style="width: 80px; height: 80px; border-right: 2px solid #2d2dd2; border-top-right-radius: 50%; border-bottom-right-radius: 50%"
      >
        <hr style="margin-top: 38px" />
        <div id="deg"></div>
      </div>
    </div>

    <script>
      const mouseMove = (e) => {
        const x = e.clientX;
        const y = e.clientY;

        const mPartner = document.getElementById("mouse-partner");
        const degSq = document.getElementById("deg-viewer");
        const degText = document.getElementById("deg");

        // Get the center of the viewport
        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2;

        // Calculate the difference from the center
        const deltaX = x - centerX;
        const deltaY = y - centerY;

        // Calculate the angle in radians
        const angleRadians = Math.atan2(deltaY, deltaX);

        // Convert the angle to degrees
        const angleDegrees = angleRadians * (180 / Math.PI);

        // Adjust the angle to be in the range 0 to 360 degrees
        const adjustedDeg = (angleDegrees + 360) % 360;

        mPartner.style.top = (y - mPartner.offsetHeight/2) + "px";
        mPartner.style.left = (x - mPartner.offsetWidth/2) + "px";
        
        degSq.style.transform = `rotate(${adjustedDeg}deg)`;
        degText.textContent = Math.round(adjustedDeg) + " deg";
      };

      document.addEventListener("mousemove", mouseMove);
    </script>
  </body>
</html>
